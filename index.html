<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Smethwick LSOA 28A Map</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">

<link rel="stylesheet" href="resources/ol.css">
<link rel="stylesheet" href="resources/fontawesome-all.min.css">
<link rel="stylesheet" href="resources/ol-layerswitcher.css">
<link rel="stylesheet" href="resources/qgis2web.css">

<style>
html, body { margin:0; height:100%; font-family:Arial,sans-serif; background:#fff; }
.container { display:flex; height:100vh; padding:10px; box-sizing:border-box; gap:10px; }
.map-wrapper { flex:2; display:flex; flex-direction:column; }
.map-title { display:flex; align-items:center; gap:12px; font-size:18px; font-weight:bold; padding:8px 12px; background:#f0f0f0; border:1px solid #ccc; z-index:1000; }
.map-title-buttons { display:flex; gap:6px; }
.map-title span { width:28px; height:28px; font-size:18px; display:inline-flex; align-items:center; justify-content:center; border-radius:50%; background:#fff; border:1px solid #ccc; cursor:pointer; }
#map { flex:1; position:relative; }
.side-image { flex:1; border:1px solid #ccc; padding:5px; background-color:#f8f8f8; overflow-y:auto; }
.side-image img { width:100%; }
.popup-info { position:absolute; top:70px; left:20px; width:420px; max-height:70%; overflow-y:auto; background:white; border:1px solid #ccc; padding:12px; border-radius:6px; box-shadow:0 4px 8px rgba(0,0,0,0.2); display:none; z-index:2000; }
.popup-info button { margin-top:12px; padding:6px 10px; border:none; border-radius:4px; cursor:pointer; color:#fff; }
#info-popup button { background:#007bff; }
#benefits-popup button { background:#28a745; }
#attendance-popup button { background:#ffc107; color:#000; }
#homechecks-popup button { background:#6f42c1; }
#digital-popup button { background:#17a2b8; }
#crime-popup button { background:#dc3545; }

@media (max-width: 800px) { .container{flex-direction:column;} .popup-info{width:90%; left:5%;} }
</style>
</head>

<body>
<div class="container">
<div class="map-wrapper">

<div class="map-title">
    <div>LSOA 28A ‚Äì Smethwick</div>
    <div class="map-title-buttons">
        <span id="info-button" title="IMD 2025">‚ÑπÔ∏è</span>
        <span id="benefits-button">üí∑</span>
        <span id="attendance-button">üéì</span>
        <span id="homechecks-button">üè†</span>
        <span id="digital-button">üíª</span>
        <span id="crime-button">üõ°Ô∏è</span>
    </div>
</div>

<div id="map"></div>

<!-- ================= POPUPS ================= -->
<!-- Paste all your existing popups here (IMD, Benefits, Attendance, Home Checks, Digital, Crime) -->
<!-- Ensure the content is exactly as in your last full version, with Close buttons -->

<!-- Example for IMD popup -->
<div id="info-popup" class="popup-info">
<h3>üìä Executive Summary ‚Äì LSOA 028A, Smethwick (IMD 2025)</h3>
<p>
<strong>Area:</strong> LSOA 028A, Smethwick, Sandwell (Lower-layer Super Output Area)<br>
<strong>Dataset:</strong> English Indices of Deprivation 2025 (IMD25), published October 2025 by MHCLG / DLUHC
</p>
<h4>Key Insights</h4>
<ol>
<li>Only 5% of neighbourhoods in England are more deprived than Sandwell 028A (ranked 1,651 out of 33,755 neighbourhoods).</li>
<li>The area is most deprived in the <strong>Income domain</strong>, placed in the top 4% nationally.</li>
<li>Top 7% nationally for <strong>Employment</strong> deprivation.</li>
<li>Top 8% nationally for <strong>Health and Disability</strong>.</li>
<li>Top 8% nationally for <strong>Education and Skills</strong>.</li>
<li>Top 10% nationally for <strong>Living Environment</strong>.</li>
<li>Top 13% nationally for the <strong>Crime</strong> domain.</li>
<li>Top 16% nationally for <strong>Barriers to Housing and Services</strong>.</li>
</ol>
<button>Close</button>
</div>

<!-- Paste the rest of your popups here exactly as before -->

</div>

<div class="side-image">
<img src="resources/Smethwick ONS.png" alt="ONS overview">
</div>
</div>

<!-- ===== QGIS2WEB SCRIPTS ===== -->
<script src="resources/ol.js"></script>
<script src="resources/ol-layerswitcher.js"></script>

<!-- ALL INDIVIDUAL LAYERS -->
<script src="layers/SmethwickCanals_0.js"></script>
<script src="layers/LSOA28ASmethwick_1.js"></script>
<script src="layers/SmethwickMetro_2.js"></script>
<script src="layers/RailSmethwickTown_3.js"></script>
<script src="layers/BUSLSOA28ASmethwick_4.js"></script>
<script src="layers/SmethwickBdgs_5.js"></script>
<script src="layers/SmethwickTown_6.js"></script>
<script src="layers/LSOA28AFlyTipping2025_7.js"></script>
<script src="layers/LSOA28ADogMess2025_8.js"></script>
<script src="layers/SmethwickRoads_9.js"></script>
<script src="layers/ResidentialOwnershipLSOA28ASmethwick_10.js"></script>
<script src="layers/BoundayLinesLSOA28A_11.js"></script>
<script src="layers/LSOA28AFlyPostingGraffitti_12.js"></script>
<script src="layers/LSOA28ADangerousLitter_13.js"></script>

<!-- ALL STYLE SCRIPTS -->
<script src="styles/SmethwickCanals_0_style.js"></script>
<script src="styles/LSOA28ASmethwick_1_style.js"></script>
<script src="styles/SmethwickMetro_2_style.js"></script>
<script src="styles/RailSmethwickTown_3_style.js"></script>
<script src="styles/BUSLSOA28ASmethwick_4_style.js"></script>
<script src="styles/SmethwickBdgs_5_style.js"></script>
<script src="styles/SmethwickTown_6_style.js"></script>
<script src="styles/LSOA28AFlyTipping2025_7_style.js"></script>
<script src="styles/LSOA28ADogMess2025_8_style.js"></script>
<script src="styles/SmethwickRoads_9_style.js"></script>
<script src="styles/ResidentialOwnershipLSOA28ASmethwick_10_style.js"></script>
<script src="styles/BoundayLinesLSOA28A_11_style.js"></script>
<script src="styles/LSOA28AFlyPostingGraffitti_12_style.js"></script>
<script src="styles/LSOA28ADangerousLitter_13_style.js"></script>

<!-- qgis2web initialization -->
<script src="qgis2web.js"></script>

<!-- ===== POPUP LOGIC ===== -->
<script>
function setupPopup(btnId, popupId) {
    const btn = document.getElementById(btnId);
    const popup = document.getElementById(popupId);
    const closeBtn = popup.querySelector("button");

    btn.addEventListener("click", e => {
        e.stopPropagation();
        document.querySelectorAll(".popup-info").forEach(p => p.style.display="none");
        popup.style.display="block";
    });

    closeBtn.addEventListener("click", () => popup.style.display="none");
}

setupPopup("info-button","info-popup");
setupPopup("benefits-button","benefits-popup");
setupPopup("attendance-button","attendance-popup");
setupPopup("homechecks-button","homechecks-popup");
setupPopup("digital-button","digital-popup");
setupPopup("crime-button","crime-popup");

document.addEventListener("click", e => {
    if (!e.target.closest(".popup-info") && !e.target.closest(".map-title")) {
        document.querySelectorAll(".popup-info").forEach(p => p.style.display="none");
    }
});
</script>

</body>
</html>





















































